var GrowthMessage;!function(a){function b(a,b){return b=new XMLHttpRequest,b.open("GET",a),a=[],b.onreadystatechange=b.then=function(c,d,e){if(c&&c.call&&(a=[,c,d]),4==b.readyState&&(e=a[0|b.status/200]))try{e(JSON.parse(b.responseText),b)}catch(f){e(null,b)}},b.send(),b}a.pegasus=b}(GrowthMessage||(GrowthMessage={}));var GrowthMessage;!function(a){function b(a){this.t=a}function c(a,b){for(var c=b.split(".");c.length;){if(!(c[0]in a))return!1;a=a[c.shift()]}return a}function d(a,b){return a.replace(e,function(a,e,f,g,h,i,j,k){var l,g=c(b,g),m="";if(!g)return"!"==f?d(h,b):j?d(k,b):"";if(!f)return d(i,b);if("@"==f){a=b._key,e=b._val;for(l in g)g.hasOwnProperty(l)&&(b._key=l,b._val=g[l],m+=d(h,b));return b._key=a,b._val=e,m}}).replace(f,function(a,d,e){return(a=c(b,e))||0===a?"%"==d?new Option(a).innerHTML.replace(/"/g,"&quot;"):a:""})}var e=/\{\{(([@!]?)(.+?))\}\}(([\s\S]+?)(\{\{:\1\}\}([\s\S]+?))?)\{\{\/\1\}\}/g,f=/\{\{([=%])(.+?)\}\}/g;b.prototype.render=function(a){return d(this.t,a)},a.t=b}(GrowthMessage||(GrowthMessage={}));var GrowthMessage;!function(a){var b=function(){function a(){this.events={}}return a.prototype.on=function(a,b,c){this.events[a]={callbackName:b,thisArg:c}},a.prototype.trigger=function(a,b){var c=this.events[a];if(c){var d=c.thisArg?c.thisArg:this;d[c.callbackName](b)}},a}();a.Events=b}(GrowthMessage||(GrowthMessage={}));var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},GrowthMessage;!function(a){var b=function(b){function c(c){b.call(this),this.config=new a.Config,this.dialog=new a.Dialog,this.overlay=new a.Overlay,this.userAgent=new a.UserAgent,this.userAgent.isViewable()&&(this.id=c.id,this.render(),this.setStyles(),this.bindEvents())}return __extends(c,b),c.prototype.render=function(){var a=document.createElement("div");a.className="growthmessage",document.body.appendChild(a),this.el=document.body.getElementsByClassName(a.className)[0]},c.prototype.setStyles=function(){var b=a.module.require("styles.css"),c=document.createElement("style");c.type="text/css",c.innerHTML=b,document.getElementsByTagName("head")[0].appendChild(c)},c.prototype.bindEvents=function(){this.on("hook","open",this.dialog)},c}(a.Events);a.App=b}(GrowthMessage||(GrowthMessage={}));var GrowthMessage;!function(a){var b=function(a){function b(){a.call(this),this.data={},this.on("load","check"),this.load("/sample/json/image-2buttons.json")}return __extends(b,a),b.prototype.load=function(a,b){this.trigger("load")},b.prototype.check=function(){},b.prototype.get=function(){return this.data},b}(a.Events);a.Config=b}(GrowthMessage||(GrowthMessage={}));var GrowthMessage;!function(a){var b=function(b){function c(){b.call(this)}return __extends(c,b),c.prototype.open=function(){this.parentElement=document.body.getElementsByClassName("growthmessage")[0],this.render(a.module.require("dialog-text.html"),{title:"hogehoge",body:"fugafugafugafugafugafugafugafuga",buttons:[{label:"piyo"},{label:"piyopiyo"}]})},c.prototype.render=function(b,c){var d=new a.t(b).render(c);this.parentElement.innerHTML=d},c}(a.Events);a.Dialog=b}(GrowthMessage||(GrowthMessage={}));var GrowthMessage;!function(a){var b=function(){function a(){}return a.prototype.exports=function(a,b){this[a]=b},a.prototype.require=function(a){return this[a]},a}();a.module=new b}(GrowthMessage||(GrowthMessage={}));var GrowthMessage;!function(a){var b=function(a){function b(){a.call(this)}return __extends(b,a),b}(a.Events);a.Overlay=b}(GrowthMessage||(GrowthMessage={}));var GrowthMessage;!function(a){var b=function(a){function b(){a.call(this),this.UA=window.navigator.userAgent.toLowerCase()}return __extends(b,a),b.prototype.isViewable=function(){var a=this,b=function(b){return-1!=a.UA.indexOf(b)};return b("iphone os 6_")||b("iphone os 7_")||b("iphone os 8_")||b("iphone os 9_")||b("iphone os 10_")||b("android 4.")&&b("mobile safari")||b("android 5.")&&b("mobile safari")||b("android 6.")&&b("mobile safari")},b}(a.Events);a.UserAgent=b}(GrowthMessage||(GrowthMessage={})),GrowthMessage.module&&(GrowthMessage.module.exports("styles.css",".growthmessage-dialog{position:absolute;top:0px;left:0px;width:100%;height:100%;display:table;background-color:rgba(0,0,0,0.9)}.growthmessage-dialog__margin-left,.growthmessage-dialog__margin-right{display:table-cell;width:7.5%}.growthmessage-dialog__inner{display:table-cell;width:85%;vertical-align:middle}.growthmessage-dialog__contents{display:table;table-layout:fixed;box-sizing:border-box;overflow:hidden;width:100%;background-color:#eaeaea;border-top:1px solid #fff;border-radius:10px}.growthmessage-dialog-text__title{margin:21px 14px 7px 14px;text-align:center;word-wrap:break-word;line-height:42px;font-size:28px}.growthmessage-dialog-text__body{margin:7px 28px 28px 28px;text-align:center;word-wrap:break-word;line-height:33px;font-size:22px}.growthmessage-dialog-text__buttons{display:table;table-layout:fixed;width:100%;border-top:1px solid #b4b4b4}.growthmessage-dialog-text__button{display:table-cell;box-sizing:border-box;padding:14px 7px;border-right:1px solid #b4b4b4;text-align:center;vertical-align:middle;word-wrap:break-word;font-size:16px;color:#1678e5}.growthmessage-dialog-text__button:last-child{border-right:none}\n"),GrowthMessage.module.exports("dialog-image.html",'<div class="growthmessage-dialog-image">\n    \n</div>\n'),GrowthMessage.module.exports("dialog-text.html",'<div class="growthmessage-dialog">\n    <div class="growthmessage-dialog__margin-left"></div>\n    <div class="growthmessage-dialog__inner">\n        <div class="growthmessage-dialog__contents">\n            <div class="growthmessage-dialog-text__title">\n                {{=title}}\n            </div>\n            <div class="growthmessage-dialog-text__body">\n                {{%body}}\n            </div>\n            <div class="growthmessage-dialog-text__buttons">\n                {{@buttons}}\n                    <div class="growthmessage-dialog-text__button">\n                        {{=_val.label}}\n                    </div>\n                {{/@buttons}}\n            </div>\n        </div>\n    </div>\n    <div class="growthmessage-dialog__margin-right"></div>\n</div>\n'));